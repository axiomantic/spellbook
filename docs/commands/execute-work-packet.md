# /execute-work-packet

Execute a single work packet from the execution mode workflow. This command is used by worker sessions to implement one track of a feature.

## Usage

```bash
/execute-work-packet <packet_path> [--resume]
```

## Parameters

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `packet_path` | path | Yes | Absolute path to work packet .md file |
| `--resume` | flag | No | Resume from checkpoint if exists |

## Overview

Work packets are self-contained boot prompts generated by the `implement-feature` skill when a feature is too large for a single session. Each packet contains:

- YAML frontmatter with metadata (track ID, worktree, branch)
- Context from the design doc and implementation plan
- Specific tasks to execute
- Execution protocol instructions

## Workflow

1. **Parse packet file** - Extract YAML frontmatter and content
2. **Load manifest** - Read `manifest.json` from the packet directory
3. **Check dependencies** - Verify completion markers exist for dependent tracks
4. **Setup worktree** - Change to the track's worktree directory
5. **Execute tasks** - For each task, invoke TDD, code review, and factchecker
6. **Update checkpoints** - Save progress after each task
7. **Create completion marker** - Mark track as complete when all tasks done

## Dependency Handling

If dependencies are incomplete, the command offers:

- **Wait**: Poll every 30 seconds for up to 30 minutes
- **Abort**: Exit and resume later when dependencies are ready

## Checkpoint Format

```json
{
  "format_version": "1.0.0",
  "track": 1,
  "last_completed_task": "1.2",
  "commit": "abc123",
  "timestamp": "2026-01-05T12:30:00Z",
  "next_task": "1.3"
}
```

## Completion Marker Format

```json
{
  "format_version": "1.0.0",
  "status": "complete",
  "commit": "abc123",
  "timestamp": "2026-01-05T13:00:00Z"
}
```

## Example

```bash
# Execute a single track
/execute-work-packet ~/.claude/work-packets/user-auth/track-1-backend.md

# Resume after interruption
/execute-work-packet ~/.claude/work-packets/user-auth/track-1-backend.md --resume
```

## Related

- [/execute-work-packets-seq](execute-work-packets-seq.md) - Execute all packets sequentially
- [/merge-work-packets](merge-work-packets.md) - Merge completed packets
- [implement-feature](../skills/implement-feature.md) - Skill that generates work packets
