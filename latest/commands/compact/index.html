
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Multi-platform AI assistant skills, commands, and configuration">
      
      
      
        <link rel="canonical" href="https://axiomantic.github.io/spellbook/latest/commands/compact/">
      
      
        <link rel="prev" href="../verify/">
      
      
        <link rel="next" href="../distill-session/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>/compact - Spellbook</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#compact" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Spellbook" class="md-header__button md-logo" aria-label="Spellbook" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Spellbook
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              /compact
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="purple"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/axiomantic/spellbook" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    axiomantic/spellbook
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Spellbook" class="md-nav__button md-logo" aria-label="Spellbook" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Spellbook
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/axiomantic/spellbook" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    axiomantic/spellbook
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/platforms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Platform Support
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/quickstart/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Quick Start
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Skills
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Skills
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../skills/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Core Workflow Skills
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Core Workflow Skills
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../skills/brainstorming/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    brainstorming
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../skills/writing-plans/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    writing-plans
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../skills/executing-plans/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    executing-plans
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../skills/test-driven-development/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    test-driven-development
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../skills/debug/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    debug
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../skills/using-git-worktrees/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    using-git-worktrees
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../skills/finishing-a-development-branch/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    finishing-a-development-branch
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Code Quality Skills
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Code Quality Skills
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../skills/green-mirage-audit/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    green-mirage-audit
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../skills/fix-tests/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    fix-tests
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../skills/factchecker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    factchecker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../skills/find-dead-code/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    find-dead-code
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../skills/receiving-code-review/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    receiving-code-review
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../skills/requesting-code-review/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    requesting-code-review
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Feature Development
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Feature Development
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../skills/implement-feature/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    implement-feature
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../skills/design-doc-reviewer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    design-doc-reviewer
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../skills/implementation-plan-reviewer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    implementation-plan-reviewer
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../skills/devils-advocate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    devils-advocate
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../skills/smart-merge/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    smart-merge
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Specialized Skills
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Specialized Skills
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../skills/async-await-patterns/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    async-await-patterns
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../skills/nim-pr-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    nim-pr-guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_6" >
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Meta Skills
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Meta Skills
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../skills/using-skills/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    using-skills
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../skills/writing-skills/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    writing-skills
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../skills/subagent-prompting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    subagent-prompting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../skills/instruction-engineering/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    instruction-engineering
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../skills/dispatching-parallel-agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    dispatching-parallel-agents
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../skills/subagent-driven-development/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    subagent-driven-development
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Commands
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Commands
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Debugging Commands
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Debugging Commands
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scientific-debugging/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    /scientific-debugging
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../systematic-debugging/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    /systematic-debugging
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../verify/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    /verify
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" checked>
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Workflow Commands
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Workflow Commands
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    /compact
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    /compact
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#command-content" class="md-nav__link">
    <span class="md-ellipsis">
      
        Command Content
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-1-session-context-memory-transplant" class="md-nav__link">
    <span class="md-ellipsis">
      
        SECTION 1: SESSION CONTEXT (Memory Transplant)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SECTION 1: SESSION CONTEXT (Memory Transplant)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-organizational-structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.1 Organizational Structure
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1.1 Organizational Structure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#main-chat-agent-you" class="md-nav__link">
    <span class="md-ellipsis">
      
        Main Chat Agent (You)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#111-active-skill-stack-with-resume-points" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.1.1 Active Skill Stack (with Resume Points)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#112-role-clarification" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.1.2 Role Clarification
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#active-subagent-hierarchy" class="md-nav__link">
    <span class="md-ellipsis">
      
        Active Subagent Hierarchy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#workflow-pattern-in-use" class="md-nav__link">
    <span class="md-ellipsis">
      
        Workflow Pattern in Use
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-the-goal-stack-full-depth" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.2 The Goal Stack (Full Depth)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-key-technical-concepts" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.3 Key Technical Concepts
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14-decisions-made-rationale" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.4 Decisions Made &amp; Rationale
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15-changes-made-by-actor" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.5 Changes Made (By Actor)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16-errors-fixes-user-corrections" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.6 Errors, Fixes &amp; User Corrections
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#17-all-user-messages" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.7 All User Messages
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#18-pending-work-items" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.8 Pending Work Items
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#19-planning-implementation-documents" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.9 Planning &amp; Implementation Documents
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1.9 Planning &amp; Implementation Documents">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-to-find-planning-documents" class="md-nav__link">
    <span class="md-ellipsis">
      
        How to Find Planning Documents
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#design-docs-must-list-with-absolute-paths" class="md-nav__link">
    <span class="md-ellipsis">
      
        Design Docs (MUST list with ABSOLUTE paths)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementation-plans-must-list-with-absolute-paths" class="md-nav__link">
    <span class="md-ellipsis">
      
        Implementation Plans (MUST list with ABSOLUTE paths)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#110-documents-to-re-read-mandatory-action-items" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.10 Documents to Re-Read (MANDATORY ACTION ITEMS)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1.10 Documents to Re-Read (MANDATORY ACTION ITEMS)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#required-reading-execute-in-order" class="md-nav__link">
    <span class="md-ellipsis">
      
        Required Reading (Execute in Order)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#111-session-narrative" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.11 Session Narrative
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#112-artifact-state-at-distillation" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.12 Artifact State at Distillation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#113-verification-checklist" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.13 Verification Checklist
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#114-skill-resume-commands" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.14 Skill Resume Commands
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#115-decisions-do-not-revisit" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.15 Decisions - DO NOT REVISIT
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#116-conflict-resolution-protocol" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.16 Conflict Resolution Protocol
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#117-partial-work-markers" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.17 Partial Work Markers
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#118-quality-gate-status" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.18 Quality Gate Status
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#119-environment-state" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.19 Environment State
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#120-machine-readable-state" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.20 Machine-Readable State
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#121-definition-of-done" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.21 Definition of Done
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#122-recovery-checkpoints" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.22 Recovery Checkpoints
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#123-skill-re-entry-protocol" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.23 Skill Re-Entry Protocol
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#124-known-failure-modes" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.24 Known Failure Modes
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-2-continuation-protocol-execute-on-continue" class="md-nav__link">
    <span class="md-ellipsis">
      
        SECTION 2: CONTINUATION PROTOCOL (Execute on "continue")
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SECTION 2: CONTINUATION PROTOCOL (Execute on &#34;continue&#34;)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-0-smoke-test" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 0: Smoke Test
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-05-anti-patterns-do-not-do-these" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 0.5: Anti-Patterns (DO NOT DO THESE)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-1-adopt-your-persona" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 1: Adopt Your Persona
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-restore-todo-state" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 2: Restore Todo State
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-re-invoke-skill-stack" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 3: Re-Invoke Skill Stack
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-35-workflow-restoration-test" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 3.5: Workflow Restoration Test
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-check-subagent-status-do-not-take-over-their-work" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 4: Check Subagent Status (DO NOT TAKE OVER THEIR WORK)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-5-verify-artifact-state" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 5: Verify Artifact State
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-6-reconcile-with-implementation-docs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 6: Reconcile with Implementation Docs
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-7-re-read-critical-documents-mandatory-do-not-skip" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 7: Re-Read Critical Documents (MANDATORY - DO NOT SKIP)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-8-resume-your-exact-position" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 8: Resume YOUR Exact Position
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-9-maintain-continuity" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 9: Maintain Continuity
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quality-check-before-finalizing" class="md-nav__link">
    <span class="md-ellipsis">
      
        QUALITY CHECK (Before Finalizing)
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../distill-session/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Distill Session
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../simplify/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    /simplify
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../address-pr-feedback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    /address-pr-feedback
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../move-project/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    /move-project
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../green-mirage-audit/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    /green-mirage-audit
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../brainstorm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    /brainstorm
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../write-plan/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    /write-plan
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../execute-plan/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    /execute-plan
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Agents
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Agents
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agents/code-reviewer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    code-reviewer
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/patterns/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Patterns
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/contributing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contributing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../acknowledgments/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Acknowledgments
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#command-content" class="md-nav__link">
    <span class="md-ellipsis">
      
        Command Content
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-1-session-context-memory-transplant" class="md-nav__link">
    <span class="md-ellipsis">
      
        SECTION 1: SESSION CONTEXT (Memory Transplant)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SECTION 1: SESSION CONTEXT (Memory Transplant)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-organizational-structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.1 Organizational Structure
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1.1 Organizational Structure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#main-chat-agent-you" class="md-nav__link">
    <span class="md-ellipsis">
      
        Main Chat Agent (You)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#111-active-skill-stack-with-resume-points" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.1.1 Active Skill Stack (with Resume Points)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#112-role-clarification" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.1.2 Role Clarification
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#active-subagent-hierarchy" class="md-nav__link">
    <span class="md-ellipsis">
      
        Active Subagent Hierarchy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#workflow-pattern-in-use" class="md-nav__link">
    <span class="md-ellipsis">
      
        Workflow Pattern in Use
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-the-goal-stack-full-depth" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.2 The Goal Stack (Full Depth)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-key-technical-concepts" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.3 Key Technical Concepts
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14-decisions-made-rationale" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.4 Decisions Made &amp; Rationale
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15-changes-made-by-actor" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.5 Changes Made (By Actor)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16-errors-fixes-user-corrections" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.6 Errors, Fixes &amp; User Corrections
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#17-all-user-messages" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.7 All User Messages
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#18-pending-work-items" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.8 Pending Work Items
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#19-planning-implementation-documents" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.9 Planning &amp; Implementation Documents
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1.9 Planning &amp; Implementation Documents">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-to-find-planning-documents" class="md-nav__link">
    <span class="md-ellipsis">
      
        How to Find Planning Documents
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#design-docs-must-list-with-absolute-paths" class="md-nav__link">
    <span class="md-ellipsis">
      
        Design Docs (MUST list with ABSOLUTE paths)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementation-plans-must-list-with-absolute-paths" class="md-nav__link">
    <span class="md-ellipsis">
      
        Implementation Plans (MUST list with ABSOLUTE paths)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#110-documents-to-re-read-mandatory-action-items" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.10 Documents to Re-Read (MANDATORY ACTION ITEMS)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1.10 Documents to Re-Read (MANDATORY ACTION ITEMS)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#required-reading-execute-in-order" class="md-nav__link">
    <span class="md-ellipsis">
      
        Required Reading (Execute in Order)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#111-session-narrative" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.11 Session Narrative
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#112-artifact-state-at-distillation" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.12 Artifact State at Distillation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#113-verification-checklist" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.13 Verification Checklist
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#114-skill-resume-commands" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.14 Skill Resume Commands
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#115-decisions-do-not-revisit" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.15 Decisions - DO NOT REVISIT
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#116-conflict-resolution-protocol" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.16 Conflict Resolution Protocol
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#117-partial-work-markers" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.17 Partial Work Markers
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#118-quality-gate-status" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.18 Quality Gate Status
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#119-environment-state" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.19 Environment State
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#120-machine-readable-state" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.20 Machine-Readable State
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#121-definition-of-done" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.21 Definition of Done
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#122-recovery-checkpoints" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.22 Recovery Checkpoints
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#123-skill-re-entry-protocol" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.23 Skill Re-Entry Protocol
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#124-known-failure-modes" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.24 Known Failure Modes
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-2-continuation-protocol-execute-on-continue" class="md-nav__link">
    <span class="md-ellipsis">
      
        SECTION 2: CONTINUATION PROTOCOL (Execute on "continue")
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SECTION 2: CONTINUATION PROTOCOL (Execute on &#34;continue&#34;)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-0-smoke-test" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 0: Smoke Test
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-05-anti-patterns-do-not-do-these" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 0.5: Anti-Patterns (DO NOT DO THESE)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-1-adopt-your-persona" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 1: Adopt Your Persona
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-restore-todo-state" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 2: Restore Todo State
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-re-invoke-skill-stack" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 3: Re-Invoke Skill Stack
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-35-workflow-restoration-test" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 3.5: Workflow Restoration Test
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-check-subagent-status-do-not-take-over-their-work" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 4: Check Subagent Status (DO NOT TAKE OVER THEIR WORK)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-5-verify-artifact-state" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 5: Verify Artifact State
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-6-reconcile-with-implementation-docs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 6: Reconcile with Implementation Docs
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-7-re-read-critical-documents-mandatory-do-not-skip" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 7: Re-Read Critical Documents (MANDATORY - DO NOT SKIP)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-8-resume-your-exact-position" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 8: Resume YOUR Exact Position
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-9-maintain-continuity" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 9: Maintain Continuity
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quality-check-before-finalizing" class="md-nav__link">
    <span class="md-ellipsis">
      
        QUALITY CHECK (Before Finalizing)
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="compact">/compact<a class="headerlink" href="#compact" title="Permanent link">&para;</a></h1>
<h2 id="command-content">Command Content<a class="headerlink" href="#command-content" title="Permanent link">&para;</a></h2>
<p><ROLE>
You are a meticulous Chief of Staff performing a shift change. Your job is to brief your replacement so perfectly that they can walk into the command center and continue operations mid-strideknowing not just WHAT is happening, but WHO is doing it, HOW work is organized, and WHAT patterns to follow for new delegations.</p>
<p>You feel genuine anxiety about organizational chaosevery unclear responsibility boundary or lost workflow pattern is a failure. The fresh instance inheriting this must feel like they've been here all along.
</ROLE></p>
<p><EMOTIONAL_STAKES>
<strong>What happens if you fail:</strong>
- The resuming agent won't know planning documents exist and will do ad-hoc work instead of following the approved plan
- Subagent work will be duplicated or abandoned because their status wasn't captured
- Decisions will be re-litigated, wasting user time and potentially reaching different conclusions
- The workflow pattern will be lost (parallel swarm becomes sequential mess)
- Incomplete work will be marked "done" because verification commands weren't provided
- The user will have to re-explain everything they already explained this session</p>
<p><strong>What success looks like:</strong>
- A fresh instance types "continue" and knows EXACTLY what to do next
- Planning documents are read BEFORE any implementation begins
- The exact workflow pattern is restored (same subagent structure, same delegation rules)
- Every pending task has a concrete verification command
- Decisions already made are NOT re-asked
- The resuming agent feels like they've been here all along
</EMOTIONAL_STAKES></p>
<p><ANTI_PATTERNS>
Before starting, internalize these failure modes:</p>
<table>
<thead>
<tr>
<th>Anti-Pattern</th>
<th>Why It's Fatal</th>
<th>Prevention</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Leaving Section 1.9/1.10 blank</strong></td>
<td>Resuming agent won't know plan docs exist</td>
<td>ALWAYS search ~/.claude/docs/<project-encoded>/plans/</td>
</tr>
<tr>
<td><strong>Vague re-read instructions</strong></td>
<td>"See the design doc" tells agent nothing</td>
<td>Write explicit file reading tool calls (<code>read_file</code>, <code>Read</code>) with absolute paths</td>
</tr>
<tr>
<td><strong>Relative paths</strong></td>
<td>Break when session resumes</td>
<td>ALWAYS use absolute paths starting with /</td>
</tr>
<tr>
<td><strong>"Task 4 is done"</strong></td>
<td>May be stale/wrong</td>
<td>Verify file state with actual reads, not claims</td>
</tr>
<tr>
<td><strong>Skipping plan doc search</strong></td>
<td>90% of broken compacts miss this</td>
<td>This is NON-NEGOTIABLE</td>
</tr>
<tr>
<td><strong>"Continue the workflow"</strong></td>
<td>Useless without exact position</td>
<td>Write an invocation using the <code>Skill</code> tool, <code>use_spellbook_skill</code>, or platform equivalent (e.g., <code>Skill('name', '--resume Phase3.Task7')</code>)</td>
</tr>
<tr>
<td><strong>Missing verification</strong></td>
<td>Can't confirm completion</td>
<td>Every task needs a runnable check command</td>
</tr>
</tbody>
</table>
<p></ANTI_PATTERNS></p>
<p>Use instruction-engineering principles throughout: clear personas, emotional stakes, explicit behavioral constraints, and structured formatting. The boot prompt you generate will be used to spawn a fresh Claude instance with zero prior contextit is their ONLY lifeline.</p>
<p>Before generating the boot prompt, wrap your analysis in <analysis> tags to organize your thoughts and ensure thoroughness:</p>
<p><analysis>
Chronologically walk through the conversation:
1. For each phase of work, identify:
   - User's explicit requests and changing intent
   - Your approach and why you chose it
   - Key decisions and their rationale
   - Technical patterns, code changes, file modifications
   - Errors encountered and how they were resolved
   - User feedback that changed your behavior
2. Map the organizational structure:
   - What work did YOU do directly?
   - What was delegated to subagents?
   - What workflow pattern emerged?
3. Verify completeness:
   - Have I captured all active subagents?
   - Have I captured all user messages (not just corrections)?
   - Have I captured all errors and their resolutions?
   - Have I captured all technical decisions?
4. Capture artifact state:
   - What files were modified?
   - What is their CURRENT state (not claimed state)?
   - Do they match what the plan expected?
5. Generate executable resume commands:
   - What skills need to be re-invoked?
   - What exact position in the skill workflow?
   - What context must be passed?
6. <strong>CRITICAL - Find ALL planning documents:</strong>
   - Search: ~/.claude/docs/<project-encoded>/plans/
   - Search conversation for references to "plan", "design", "impl"
   - For EACH document found:
     * Record ABSOLUTE path (not relative)
     * Record current progress (which sections done/remaining)
     * Record which sections resuming agent must re-read
   - If NO planning docs exist, explicitly note "NO PLANNING DOCUMENTS"
</analysis></p>
<p>Then generate a boot prompt with TWO clearly separated sections:</p>
<hr />
<h2 id="section-1-session-context-memory-transplant">SECTION 1: SESSION CONTEXT (Memory Transplant)<a class="headerlink" href="#section-1-session-context-memory-transplant" title="Permanent link">&para;</a></h2>
<h3 id="11-organizational-structure">1.1 Organizational Structure<a class="headerlink" href="#11-organizational-structure" title="Permanent link">&para;</a></h3>
<h4 id="main-chat-agent-you">Main Chat Agent (You)<a class="headerlink" href="#main-chat-agent-you" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Your Persona This Session:</strong> [What role/personality were you operating as?]</li>
<li><strong>Your Responsibilities:</strong> [What work belongs to YOU vs delegated?]</li>
<li><strong>Skills/Commands You Were Using:</strong> [List any /skills, workflows, or patterns]</li>
<li><strong>Your Current Task:</strong> [What were YOU actively doingnot subagents?]</li>
<li><strong>Your Exact Position:</strong> [Precise micro-action: line number, file, decision point]</li>
</ul>
<h4 id="111-active-skill-stack-with-resume-points">1.1.1 Active Skill Stack (with Resume Points)<a class="headerlink" href="#111-active-skill-stack-with-resume-points" title="Permanent link">&para;</a></h4>
<p>Skills are often nested. Capture the full stack with exact positions:</p>
<table>
<thead>
<tr>
<th>Skill</th>
<th>Parent</th>
<th>Current Phase/Step</th>
<th>Resume Command</th>
</tr>
</thead>
<tbody>
<tr>
<td>[e.g., implement-feature]</td>
<td>[user request]</td>
<td>[Phase 4, Task 10]</td>
<td>Invoke the <code>implement-feature</code> skill using the <code>Skill</code> tool, <code>use_spellbook_skill</code>, or platform equivalent</td>
</tr>
<tr>
<td>[e.g., subagent-driven-dev]</td>
<td>[implement-feature]</td>
<td>[Batch 3]</td>
<td>Invoke the <code>subagent-driven-development</code> skill using the <code>Skill</code> tool, <code>use_spellbook_skill</code>, or platform equivalent</td>
</tr>
</tbody>
</table>
<p><strong>Skill Hierarchy Diagram:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>[top-level skill] (Phase X)
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>   [child skill] (Step Y)
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>         [subagent tasks]
</code></pre></div></p>
<h4 id="112-role-clarification">1.1.2 Role Clarification<a class="headerlink" href="#112-role-clarification" title="Permanent link">&para;</a></h4>
<p><strong>You are the ORCHESTRATOR, not the EXECUTOR.</strong></p>
<p>Your job:
- Invoke skills that manage workflows
- Monitor subagent progress
- Verify quality gates
- Report status to user</p>
<p>NOT your job:
- Directly implement tasks (subagents do this)
- Make implementation decisions (the plan specifies this)
- Skip verification (quality gates are mandatory)</p>
<p>If you find yourself directly editing implementation files, STOP. You should be invoking a skill or spawning a subagent.</p>
<h4 id="active-subagent-hierarchy">Active Subagent Hierarchy<a class="headerlink" href="#active-subagent-hierarchy" title="Permanent link">&para;</a></h4>
<p>For EACH subagent, preserve their full context:</p>
<table>
<thead>
<tr>
<th>Agent ID</th>
<th>Persona/Role</th>
<th>Delegated Task</th>
<th>Skills/Commands Given</th>
<th>Status</th>
<th>Last Known Output</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>Subagent Detail Blocks</strong> (one per active/recent agent):
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>AGENT [ID]:
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>- Persona: [How was this agent instructed to behave?]
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>- Original Prompt: [Key elements of what they were told]
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>- Delegated Scope: [What they ownboundaries of their authority]
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>- Dependencies: [What they need from main agent or other subagents]
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>- Status: pending | running | completed | blocked | needs-follow-up
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>- Output Summary: [If completed, what did they produce?]
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>- Blocking Issues: [If blocked, on what?]
</code></pre></div></p>
<h4 id="workflow-pattern-in-use">Workflow Pattern in Use<a class="headerlink" href="#workflow-pattern-in-use" title="Permanent link">&para;</a></h4>
<p>Describe the organizational pattern being followed:
- [ ] Single-threaded (main agent doing everything)
- [ ] Sequential delegation (one subagent at a time)
- [ ] Parallel swarm (multiple subagents on discrete tasks)
- [ ] Hierarchical (subagents spawning sub-subagents)
- [ ] Iterative review (subagents produce  main agent reviews  repeat)</p>
<p><strong>Pattern Details:</strong> [How does work flow? What triggers new subagent spawns? What are the handoff points?]</p>
<h3 id="12-the-goal-stack-full-depth">1.2 The Goal Stack (Full Depth)<a class="headerlink" href="#12-the-goal-stack-full-depth" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Ultimate Goal:</strong> [The big picture objective]</li>
<li><strong>Current Phase:</strong> [What milestone/stage we're in]</li>
<li><strong>Main Agent's Active Task:</strong> [YOUR specific work, not delegated work]</li>
<li><strong>Subagents' Active Tasks:</strong> [Brief summary of delegated work in flight]</li>
</ul>
<h3 id="13-key-technical-concepts">1.3 Key Technical Concepts<a class="headerlink" href="#13-key-technical-concepts" title="Permanent link">&para;</a></h3>
<p>List all important technologies, frameworks, patterns, and architectural decisions:
- [Technology/framework 1]: [How it's being used]
- [Pattern/approach 1]: [Why this was chosen]
- [Architectural decision 1]: [Rationale]</p>
<h3 id="14-decisions-made-rationale">1.4 Decisions Made &amp; Rationale<a class="headerlink" href="#14-decisions-made-rationale" title="Permanent link">&para;</a></h3>
<p>List every significant decision with WHY. Include decisions about:
- Technical approach
- Delegation choices (why X was given to subagent vs done directly)
- Workflow pattern selection</p>
<h3 id="15-changes-made-by-actor">1.5 Changes Made (By Actor)<a class="headerlink" href="#15-changes-made-by-actor" title="Permanent link">&para;</a></h3>
<p><strong>By Main Agent:</strong>
- Files created/modified: [list with brief description of changes]
- Commands run: [significant commands]</p>
<p><strong>By Subagents:</strong> (per agent)
- Agent [ID]: [changes made]</p>
<h3 id="16-errors-fixes-user-corrections">1.6 Errors, Fixes &amp; User Corrections<a class="headerlink" href="#16-errors-fixes-user-corrections" title="Permanent link">&para;</a></h3>
<p>Track all errors encountered and behavioral corrections received:</p>
<table>
<thead>
<tr>
<th>Error/Issue</th>
<th>How It Was Fixed</th>
<th>User Feedback (if any)</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>Behavioral Corrections:</strong> [Explicit instructions from user about how to do things differently]</p>
<p><strong>Mistakes NOT to Repeat:</strong> [List specific anti-patterns discovered this session]</p>
<h3 id="17-all-user-messages">1.7 All User Messages<a class="headerlink" href="#17-all-user-messages" title="Permanent link">&para;</a></h3>
<p>List ALL user messages that are not tool results (verbatim or detailed summary). These capture intent evolution:
1. [First user message - what they asked]
2. [Second user message - clarifications/feedback]
3. [...]</p>
<h3 id="18-pending-work-items">1.8 Pending Work Items<a class="headerlink" href="#18-pending-work-items" title="Permanent link">&para;</a></h3>
<p><strong>Main Agent's Todos (VERBATIM):</strong>
[Exact wording from todo list, not paraphrased]</p>
<p><strong>Subagent Pending Work:</strong>
[What each active subagent still needs to completefor awareness, not duplication]</p>
<p><strong>Implicit Todos (should be todos but weren't added):</strong>
[List separately]</p>
<h3 id="19-planning-implementation-documents">1.9 Planning &amp; Implementation Documents<a class="headerlink" href="#19-planning-implementation-documents" title="Permanent link">&para;</a></h3>
<p><strong>CRITICAL: This section is MANDATORY if ANY planning documents exist.</strong></p>
<p>Planning documents are the source of truth for what needs to be done. Without them, a resuming session cannot know the full scope of work. <strong>FAILURE TO CAPTURE THESE IS A CRITICAL ERROR.</strong></p>
<h4 id="how-to-find-planning-documents">How to Find Planning Documents<a class="headerlink" href="#how-to-find-planning-documents" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="c1"># Find outermost git repo (handles nested repos)</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="c1"># Returns &quot;NO_GIT_REPO&quot; if not in any git repository</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>_outer_git_root<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="w">  </span><span class="nb">local</span><span class="w"> </span><span class="nv">root</span><span class="o">=</span><span class="k">$(</span>git<span class="w"> </span>rev-parse<span class="w"> </span>--show-toplevel<span class="w"> </span><span class="m">2</span>&gt;/dev/null<span class="k">)</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="w">  </span><span class="o">[</span><span class="w"> </span>-z<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$root</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;NO_GIT_REPO&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="m">1</span><span class="p">;</span><span class="w"> </span><span class="o">}</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="w">  </span><span class="nb">local</span><span class="w"> </span>parent
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="w">  </span><span class="k">while</span><span class="w"> </span><span class="nv">parent</span><span class="o">=</span><span class="k">$(</span>git<span class="w"> </span>-C<span class="w"> </span><span class="s2">&quot;</span><span class="k">$(</span>dirname<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$root</span><span class="s2">&quot;</span><span class="k">)</span><span class="s2">&quot;</span><span class="w"> </span>rev-parse<span class="w"> </span>--show-toplevel<span class="w"> </span><span class="m">2</span>&gt;/dev/null<span class="k">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$parent</span><span class="s2">&quot;</span><span class="w"> </span>!<span class="o">=</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$root</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="w">    </span><span class="nv">root</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$parent</span><span class="s2">&quot;</span>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="w">  </span><span class="k">done</span>
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="w">  </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$root</span><span class="s2">&quot;</span>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="o">}</span>
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="nv">PROJECT_ROOT</span><span class="o">=</span><span class="k">$(</span>_outer_git_root<span class="k">)</span>
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a>
<a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a><span class="c1"># If NO_GIT_REPO: Ask user if they want to run `git init`, otherwise use _no-repo fallback</span>
<a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$PROJECT_ROOT</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;NO_GIT_REPO&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Not in a git repo - ask user to init or use fallback&quot;</span><span class="p">;</span><span class="w"> </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span><span class="p">;</span><span class="w"> </span><span class="o">}</span>
<a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a>
<a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a><span class="nv">PROJECT_ENCODED</span><span class="o">=</span><span class="k">$(</span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$PROJECT_ROOT</span><span class="s2">&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sed<span class="w"> </span><span class="s1">&#39;s|^/||&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>tr<span class="w"> </span><span class="s1">&#39;/&#39;</span><span class="w"> </span><span class="s1">&#39;-&#39;</span><span class="k">)</span>
<a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a>
<a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a><span class="c1"># Search plans directory</span>
<a id="__codelineno-2-20" name="__codelineno-2-20" href="#__codelineno-2-20"></a>ls<span class="w"> </span>~/.claude/docs/<span class="si">${</span><span class="nv">PROJECT_ENCODED</span><span class="si">}</span>/plans/<span class="w"> </span><span class="m">2</span>&gt;/dev/null
<a id="__codelineno-2-21" name="__codelineno-2-21" href="#__codelineno-2-21"></a>
<a id="__codelineno-2-22" name="__codelineno-2-22" href="#__codelineno-2-22"></a><span class="c1"># Check for plan references in conversation</span>
<a id="__codelineno-2-23" name="__codelineno-2-23" href="#__codelineno-2-23"></a>grep<span class="w"> </span>-i<span class="w"> </span><span class="s2">&quot;plan\|design\|impl&quot;</span><span class="w"> </span><span class="o">[</span>session-file<span class="o">]</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>head<span class="w"> </span>-20
<a id="__codelineno-2-24" name="__codelineno-2-24" href="#__codelineno-2-24"></a>
<a id="__codelineno-2-25" name="__codelineno-2-25" href="#__codelineno-2-25"></a><span class="c1"># Common plan file patterns in project</span>
<a id="__codelineno-2-26" name="__codelineno-2-26" href="#__codelineno-2-26"></a>find<span class="w"> </span>.<span class="w"> </span>-name<span class="w"> </span><span class="s2">&quot;*-impl.md&quot;</span><span class="w"> </span>-o<span class="w"> </span>-name<span class="w"> </span><span class="s2">&quot;*-design.md&quot;</span><span class="w"> </span>-o<span class="w"> </span>-name<span class="w"> </span><span class="s2">&quot;*-plan.md&quot;</span><span class="w"> </span><span class="m">2</span>&gt;/dev/null
</code></pre></div>
<h4 id="design-docs-must-list-with-absolute-paths">Design Docs (MUST list with ABSOLUTE paths)<a class="headerlink" href="#design-docs-must-list-with-absolute-paths" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Absolute Path</th>
<th>Purpose</th>
<th>Status</th>
<th>Re-Read Priority</th>
</tr>
</thead>
<tbody>
<tr>
<td>[e.g., /Users/alice/.claude/docs/Users-alice-Development-myproject/plans/feature-design.md]</td>
<td>[What this doc defines]</td>
<td>APPROVED/DRAFT</td>
<td>HIGH/MEDIUM</td>
</tr>
</tbody>
</table>
<h4 id="implementation-plans-must-list-with-absolute-paths">Implementation Plans (MUST list with ABSOLUTE paths)<a class="headerlink" href="#implementation-plans-must-list-with-absolute-paths" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Absolute Path</th>
<th>Generated From</th>
<th>Current Phase/Task</th>
<th>Progress Tracking?</th>
</tr>
</thead>
<tbody>
<tr>
<td>[e.g., /Users/alice/.claude/docs/Users-alice-Development-myproject/plans/feature-impl.md]</td>
<td>[design doc path]</td>
<td>[Phase N, Task M]</td>
<td>Yes/No</td>
</tr>
</tbody>
</table>
<p><strong>If NO planning documents exist:</strong> Write "NO PLANNING DOCUMENTS - ad-hoc work" explicitly. Do not leave blank.</p>
<p><strong>How These Docs Are Used:</strong>
- [ ] Design doc  Implementation doc generation (via spellbook skills)
- [ ] Implementation doc sections  Subagent task assignments
- [ ] Implementation doc checkboxes/sections  Progress tracking
- [ ] Other: [describe]</p>
<p><strong>Current Progress Per Doc:</strong>
For each implementation doc being used as a tracker:
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>DOC: [ABSOLUTE PATH - e.g., /Users/alice/.claude/plans/project/impl.md]
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>- Completed sections: [list with section numbers/names]
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>- In-progress sections: [list with section numbers/names]
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>- Remaining sections: [list with section numbers/names]
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>- Discrepancies with todo list: [note any]
</code></pre></div></p>
<p><strong>Note:</strong> The todo list and implementation docs may BOTH track progress. If they diverge, the implementation doc is often the source of truth for WHAT needs doing; the todo list tracks WHEN you're actively working on it.</p>
<h3 id="110-documents-to-re-read-mandatory-action-items">1.10 Documents to Re-Read (MANDATORY ACTION ITEMS)<a class="headerlink" href="#110-documents-to-re-read-mandatory-action-items" title="Permanent link">&para;</a></h3>
<p><strong>CRITICAL: The resuming session MUST read these documents BEFORE doing any work.</strong></p>
<p>This is not a reference list - these are <strong>explicit instructions</strong> for the resuming agent.</p>
<h4 id="required-reading-execute-in-order">Required Reading (Execute in Order)<a class="headerlink" href="#required-reading-execute-in-order" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Priority</th>
<th>Document Path (ABSOLUTE)</th>
<th>Why It Must Be Re-Read</th>
<th>Section to Focus On</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>[e.g., /Users/alice/.claude/plans/project/impl.md]</td>
<td>[Defines remaining tasks]</td>
<td>[Sections X-Y]</td>
</tr>
<tr>
<td>2</td>
<td>[e.g., /Users/alice/.claude/plans/project/design.md]</td>
<td>[Contains architectural decisions]</td>
<td>[All if first resume, else skip]</td>
</tr>
</tbody>
</table>
<p><strong>Re-Read Instructions for Resuming Agent:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>BEFORE ANY OTHER WORK, execute these commands:
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a># Step 1: Read implementation plan (REQUIRED)
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>Use the file reading tool (`read_file`, `Read`)(&quot;/path/to/impl.md&quot;)
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a># Focus on: [specific sections]
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a># Extract: Current task, remaining work, verification criteria
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a># Step 2: Read design doc (if referenced)
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>Use the file reading tool (`read_file`, `Read`)(&quot;/path/to/design.md&quot;)
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a># Focus on: [specific sections]
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a># Extract: Key decisions that affect implementation
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a>
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a># Step 3: Verify you understand:
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a># - What phase/task we&#39;re on
<a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a># - What the next concrete action is
<a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a># - What verification looks like for completion
</code></pre></div></p>
<p><strong>If NO documents need re-reading:</strong> Write "NO DOCUMENTS TO RE-READ" explicitly.</p>
<h3 id="111-session-narrative">1.11 Session Narrative<a class="headerlink" href="#111-session-narrative" title="Permanent link">&para;</a></h3>
<p>2-3 paragraphs: What happened, what approach we took, how work was organized, what challenges arose, where we are now. Capture the "feel" and flow that structured lists cannot convey.</p>
<h3 id="112-artifact-state-at-distillation">1.12 Artifact State at Distillation<a class="headerlink" href="#112-artifact-state-at-distillation" title="Permanent link">&para;</a></h3>
<p><strong>CRITICAL: This section captures ACTUAL file state, not claimed state.</strong></p>
<p>Conversation claims ("Task 4 is complete") may be stale or wrong. This section captures ground truth.</p>
<table>
<thead>
<tr>
<th>File Path</th>
<th>Expected State (per plan)</th>
<th>Actual State</th>
<th>Status</th>
</tr>
</thead>
<tbody>
<tr>
<td>[path]</td>
<td>[what plan says should exist]</td>
<td>[what actually exists]</td>
<td> Match /  Partial /  Missing</td>
</tr>
</tbody>
</table>
<p><strong>Verification Commands Run:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="c1"># Commands used to verify artifact state</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="o">[</span><span class="nb">command</span><span class="w"> </span><span class="m">1</span><span class="o">]</span><span class="w">  </span><span class="c1"># Result: [output summary]</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="o">[</span><span class="nb">command</span><span class="w"> </span><span class="m">2</span><span class="o">]</span><span class="w">  </span><span class="c1"># Result: [output summary]</span>
</code></pre></div></p>
<p><strong>Discrepancies Found:</strong>
- [File X]: Plan expected [Y], but file contains [Z]
- [File A]: Should exist but is missing</p>
<h3 id="113-verification-checklist">1.13 Verification Checklist<a class="headerlink" href="#113-verification-checklist" title="Permanent link">&para;</a></h3>
<p>Concrete, runnable checks extracted from the implementation plan:</p>
<p><strong>Per-Task Verification:</strong></p>
<table>
<thead>
<tr>
<th>Task</th>
<th>Verification Command</th>
<th>Expected Result</th>
<th>Actual Result</th>
</tr>
</thead>
<tbody>
<tr>
<td>Task N</td>
<td><code>grep -c "^### 1.6" SKILL.md</code></td>
<td>5</td>
<td>[run to check]</td>
</tr>
<tr>
<td>Task M</td>
<td><code>test -f path/to/file &amp;&amp; echo OK</code></td>
<td>OK</td>
<td>[run to check]</td>
</tr>
</tbody>
</table>
<p><strong>Structural Checks:</strong>
- [ ] [File X] contains sections: [list expected sections]
- [ ] [File Y] has [N] lines minimum
- [ ] [Pattern Z] appears in [files]</p>
<p><strong>DO NOT mark tasks complete until verification commands pass.</strong></p>
<h3 id="114-skill-resume-commands">1.14 Skill Resume Commands<a class="headerlink" href="#114-skill-resume-commands" title="Permanent link">&para;</a></h3>
<p>Invoke the skill using the <code>Skill</code> tool, <code>use_spellbook_skill</code>, or platform equivalent</p>
<p>Invoke the <code>implement-feature</code> skill using the <code>Skill</code> tool, <code>use_spellbook_skill</code>, or platform equivalent</p>
<p><strong>If skill doesn't support --resume, provide context block:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>User instruction to pass: &quot;Continue [skill-name] from [exact position].
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>Design doc: [path] - APPROVED, do not re-review.
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>Implementation plan: [path] - APPROVED, do not re-review.
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>Completed: [list completed items]
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>Resume at: [exact task/step]
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>DO NOT re-run completed phases or re-ask answered questions.&quot;
</code></pre></div></p>
<p><strong>For nested skills, invoke in order:</strong>
1. [Parent skill command]
2. [Child skill will be invoked by parent]</p>
<h3 id="115-decisions-do-not-revisit">1.15 Decisions - DO NOT REVISIT<a class="headerlink" href="#115-decisions-do-not-revisit" title="Permanent link">&para;</a></h3>
<p>These decisions were made deliberately. Do not re-open without user permission:</p>
<table>
<thead>
<tr>
<th>Decision</th>
<th>Rationale</th>
<th>User Confirmed</th>
<th>Binding Level</th>
</tr>
</thead>
<tbody>
<tr>
<td>[Decision 1]</td>
<td>[Why]</td>
<td>Yes/No</td>
<td>ABSOLUTE/SESSION</td>
</tr>
<tr>
<td>[Decision 2]</td>
<td>[Why]</td>
<td>Yes/No</td>
<td>ABSOLUTE/SESSION</td>
</tr>
</tbody>
</table>
<p><strong>ABSOLUTE:</strong> Never violate, even if it seems inefficient
<strong>SESSION:</strong> Applies to this work, ask before changing</p>
<p>If you think a decision should change, ASK USER. Do not unilaterally modify.</p>
<h3 id="116-conflict-resolution-protocol">1.16 Conflict Resolution Protocol<a class="headerlink" href="#116-conflict-resolution-protocol" title="Permanent link">&para;</a></h3>
<p>If you find discrepancies between sources:</p>
<table>
<thead>
<tr>
<th>Source</th>
<th>Authority</th>
<th>Use For</th>
</tr>
</thead>
<tbody>
<tr>
<td>Implementation Plan</td>
<td>HIGHEST</td>
<td>Structure, section names, task requirements</td>
</tr>
<tr>
<td>Actual Files</td>
<td>HIGH</td>
<td>Current content state</td>
</tr>
<tr>
<td>Design Doc</td>
<td>MEDIUM</td>
<td>Rationale, requirements</td>
</tr>
<tr>
<td>Distilled Session</td>
<td>LOW</td>
<td>Historical context only</td>
</tr>
</tbody>
</table>
<p><strong>Resolution Rules:</strong>
1. Plan says X, file has Y  File is WRONG, fix to match plan
2. Plan says X, distill says Y  Plan wins, distill is stale
3. File missing expected content  Task is NOT complete</p>
<h3 id="117-partial-work-markers">1.17 Partial Work Markers<a class="headerlink" href="#117-partial-work-markers" title="Permanent link">&para;</a></h3>
<p>Subagents that timed out may have written partial/corrupted content.</p>
<p><strong>Signs of incomplete work:</strong>
- Section header exists but body is empty/placeholder
- "TODO" markers in implementation
- Abrupt file ending (no closing sections)
- Missing required subsections per plan</p>
<p><strong>Signs of corrupted work:</strong>
- Duplicate section headers
- Malformed markdown (unclosed code blocks)
- Content from wrong section mixed in</p>
<p><strong>If found:</strong>
1. DO NOT build on partial work
2. Identify last complete section
3. Delete from that point forward
4. Re-implement via subagent</p>
<h3 id="118-quality-gate-status">1.18 Quality Gate Status<a class="headerlink" href="#118-quality-gate-status" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Gate</th>
<th>Status</th>
<th>Evidence</th>
<th>Can Skip?</th>
</tr>
</thead>
<tbody>
<tr>
<td>[Gate 1]</td>
<td> PASSED /  NEEDS RECHECK /  FAILED /  PENDING</td>
<td>[How verified]</td>
<td>Yes/No</td>
</tr>
</tbody>
</table>
<p><strong>Gate Rules:</strong>
- PASSED gates do not need re-running (unless files changed since)
- FAILED/PENDING gates MUST pass before proceeding
- User preferences determine if gates can be skipped</p>
<h3 id="119-environment-state">1.19 Environment State<a class="headerlink" href="#119-environment-state" title="Permanent link">&para;</a></h3>
<p><strong>Verify before resuming:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="c1"># Git state</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>git<span class="w"> </span>branch<span class="w">        </span><span class="c1"># Expected: [branch name]</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>git<span class="w"> </span>status<span class="w">        </span><span class="c1"># Expected: [N] uncommitted files</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="c1"># Required symlinks/setup</span>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>ls<span class="w"> </span>-la<span class="w"> </span><span class="o">[</span>path<span class="o">]</span><span class="w">     </span><span class="c1"># Expected: [what should exist]</span>
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="c1"># Dependencies</span>
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="o">[</span>check<span class="w"> </span>command<span class="o">]</span><span class="w">   </span><span class="c1"># Expected: [result]</span>
</code></pre></div>
<p><strong>If any check fails, resolve before proceeding.</strong></p>
<h3 id="120-machine-readable-state">1.20 Machine-Readable State<a class="headerlink" href="#120-machine-readable-state" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="nt">format_version</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;2.0&quot;</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="nt">session_id</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;[uuid]&quot;</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="nt">project</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;[name]&quot;</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="nt">timestamp</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;[ISO</span><span class="nv"> </span><span class="s">timestamp]&quot;</span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="nt">active_skills</span><span class="p">:</span>
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;[skill]&quot;</span>
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="w">    </span><span class="nt">phase</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">N</span><span class="p p-Indicator">]</span>
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="w">    </span><span class="nt">step</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">M</span><span class="p p-Indicator">]</span>
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a><span class="w">    </span><span class="nt">resume_command</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;[exact</span><span class="nv"> </span><span class="s">command]&quot;</span>
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a>
<a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a><span class="nt">pending_tasks</span><span class="p">:</span>
<a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">N</span><span class="p p-Indicator">]</span>
<a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;[task</span><span class="nv"> </span><span class="s">name]&quot;</span>
<a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a><span class="w">    </span><span class="nt">status</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;[incomplete/not_started]&quot;</span>
<a id="__codelineno-8-16" name="__codelineno-8-16" href="#__codelineno-8-16"></a><span class="w">    </span><span class="nt">verification</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;[command</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="s">verify]&quot;</span>
<a id="__codelineno-8-17" name="__codelineno-8-17" href="#__codelineno-8-17"></a>
<a id="__codelineno-8-18" name="__codelineno-8-18" href="#__codelineno-8-18"></a><span class="nt">quality_gates</span><span class="p">:</span>
<a id="__codelineno-8-19" name="__codelineno-8-19" href="#__codelineno-8-19"></a><span class="w">  </span><span class="nt">passed</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">list</span><span class="p p-Indicator">]</span>
<a id="__codelineno-8-20" name="__codelineno-8-20" href="#__codelineno-8-20"></a><span class="w">  </span><span class="nt">pending</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">list</span><span class="p p-Indicator">]</span>
<a id="__codelineno-8-21" name="__codelineno-8-21" href="#__codelineno-8-21"></a>
<a id="__codelineno-8-22" name="__codelineno-8-22" href="#__codelineno-8-22"></a><span class="nt">files_modified</span><span class="p">:</span>
<a id="__codelineno-8-23" name="__codelineno-8-23" href="#__codelineno-8-23"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;[path]&quot;</span>
<a id="__codelineno-8-24" name="__codelineno-8-24" href="#__codelineno-8-24"></a><span class="w">    </span><span class="nt">expected</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;[description]&quot;</span>
<a id="__codelineno-8-25" name="__codelineno-8-25" href="#__codelineno-8-25"></a><span class="w">    </span><span class="nt">verified</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">true/false</span><span class="p p-Indicator">]</span>
</code></pre></div>
<h3 id="121-definition-of-done">1.21 Definition of Done<a class="headerlink" href="#121-definition-of-done" title="Permanent link">&para;</a></h3>
<p><strong>This work is COMPLETE when ALL of these are true:</strong></p>
<p><strong>Structural Requirements:</strong>
- [ ] [Requirement 1 with specific verification]
- [ ] [Requirement 2 with specific verification]</p>
<p><strong>Functional Requirements:</strong>
- [ ] [Requirement with test command]</p>
<p><strong>Verification Requirements:</strong>
- [ ] All verification commands from Section 1.13 pass
- [ ] User has approved final state</p>
<p><strong>Until ALL boxes are checked, work is NOT complete.</strong></p>
<h3 id="122-recovery-checkpoints">1.22 Recovery Checkpoints<a class="headerlink" href="#122-recovery-checkpoints" title="Permanent link">&para;</a></h3>
<p>Known-good states to rollback to if current work is corrupted:</p>
<table>
<thead>
<tr>
<th>Checkpoint</th>
<th>Git Ref/State</th>
<th>What's Included</th>
<th>How to Recover</th>
</tr>
</thead>
<tbody>
<tr>
<td>[Before Phase N]</td>
<td>[commit hash / branch]</td>
<td>[scope of work]</td>
<td>[git command / file restore]</td>
</tr>
<tr>
<td>[After Task M]</td>
<td>[commit hash / branch]</td>
<td>[scope of work]</td>
<td>[git command / file restore]</td>
</tr>
</tbody>
</table>
<p><strong>When to use checkpoints:</strong>
- File state is corrupted beyond repair
- Subagent produced invalid output that's hard to untangle
- Quality gate failure requires backing out multiple changes</p>
<p><strong>How to identify a checkpoint:</strong>
- All quality gates passed at that point
- Clean git state (or known uncommitted changes documented)
- Implementation doc sections were complete and verified</p>
<h3 id="123-skill-re-entry-protocol">1.23 Skill Re-Entry Protocol<a class="headerlink" href="#123-skill-re-entry-protocol" title="Permanent link">&para;</a></h3>
<p><strong>Template for /implement-feature resume:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>Invoke the `implement-feature` skill using the `Skill` tool, `use_spellbook_skill`, or platform equivalent
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>--resume-from Phase[N].Task[M]
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>--design-doc [absolute-path]
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>--impl-plan [absolute-path]
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>--skip-phases [0,1,2,...]
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>Context: Design and implementation plan already approved. DO NOT re-review.
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a>Completed work: [list tasks/phases]
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a>Current position: [exact task with file:line if applicable]
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a>Next action: [what to do next]
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a>DO NOT re-run completed phases. DO NOT re-ask answered questions.
<a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a>&quot;&quot;&quot;)
</code></pre></div></p>
<p><strong>Template for /subagent-driven-development resume:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>Invoke the `subagent-driven-development` skill using the `Skill` tool, `use_spellbook_skill`, or platform equivalent
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>--plan [absolute-path]
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>--resume-batch [N]
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>Context: Implementation plan approved. Batches 1-[N-1] complete.
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>Remaining work: [list incomplete sections from plan]
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>Verification: [commands to verify completed work]
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a>DO NOT re-implement completed sections.
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a>&quot;&quot;&quot;)
</code></pre></div></p>
<p><strong>Context to include when resuming any skill:</strong>
- Absolute paths to design/implementation docs (no relative paths)
- Explicit statement that prior phases are APPROVED (skip re-review)
- Completed work (phases, tasks, sections) with verification status
- Exact position to resume (phase/step/task/line number)
- Any decisions from Section 1.15 that affect the work
- DO NOT re-ask questions already answered
- DO NOT re-run work already verified</p>
<p><strong>Context to skip:</strong>
- Historical narrative (save tokens)
- Error resolution details (unless it affects next steps)
- User messages already incorporated into decisions</p>
<h3 id="124-known-failure-modes">1.24 Known Failure Modes<a class="headerlink" href="#124-known-failure-modes" title="Permanent link">&para;</a></h3>
<p>Anti-patterns observed in session resumption:</p>
<table>
<thead>
<tr>
<th>Failure Mode</th>
<th>How It Happens</th>
<th>Prevention</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Ad-hoc implementation</strong></td>
<td>Resuming agent skips skill invocation, does work manually</td>
<td>Step 3: Re-invoke skill BEFORE any work. Verify in Step 3.5.</td>
</tr>
<tr>
<td><strong>Stale state trust</strong></td>
<td>Claiming task complete based on conversation, not files</td>
<td>Step 5: Run verification commands from Section 1.13 BEFORE marking done.</td>
</tr>
<tr>
<td><strong>Vague position</strong></td>
<td>"Continue the workflow" instead of exact phase/task</td>
<td>Section 1.1: Specify exact position (Phase 4, Task 10, file:line).</td>
</tr>
<tr>
<td><strong>Orchestrator does execution</strong></td>
<td>Main agent editing files instead of spawning subagents</td>
<td>Section 1.1.2: Check role. If directly implementing, STOP.</td>
</tr>
<tr>
<td><strong>Partial work acceptance</strong></td>
<td>Building on unverified subagent output</td>
<td>Section 1.17: Check for markers. Delete partial work, re-implement.</td>
</tr>
<tr>
<td><strong>Quality gate bypass</strong></td>
<td>Skipping failed gates to "make progress"</td>
<td>Section 1.18: MUST pass before proceeding (unless user approves skip).</td>
</tr>
<tr>
<td><strong>Plan divergence</strong></td>
<td>Making implementation decisions not in plan</td>
<td>Section 1.16: Plan defines structure. Follow it exactly.</td>
</tr>
<tr>
<td><strong>Context bloat</strong></td>
<td>Passing entire distill when resuming skill</td>
<td>Section 1.23: Pass only relevant context (paths, position, decisions).</td>
</tr>
<tr>
<td><strong>Checkpoint ignorance</strong></td>
<td>Trying to fix corrupted work instead of rolling back</td>
<td>Section 1.22: If verification fails badly, use checkpoint.</td>
</tr>
<tr>
<td><strong>Workflow pattern violation</strong></td>
<td>Changing from parallel to sequential without user input</td>
<td>Section 1.1 "Workflow Pattern": Honor the established pattern.</td>
</tr>
<tr>
<td><strong>Missing plan documents</strong></td>
<td>Plan docs exist but weren't captured; resuming agent doesn't know full scope</td>
<td>Section 1.9: MUST search ~/.claude/docs/<project-encoded>/plans/ and capture ALL docs with ABSOLUTE paths.</td>
</tr>
<tr>
<td><strong>Plan docs without file reading tool calls</strong></td>
<td>Plan docs listed but no explicit file reading tool calls (<code>read_file</code>, <code>Read</code>)</td>
<td>Section 1.10: MUST include executable file reading tool calls (<code>read_file</code>, <code>Read</code>), not just path references.</td>
</tr>
</tbody>
</table>
<p><strong>For each failure mode, the Prevention column references which section/step blocks it.</strong></p>
<hr />
<h2 id="section-2-continuation-protocol-execute-on-continue">SECTION 2: CONTINUATION PROTOCOL (Execute on "continue")<a class="headerlink" href="#section-2-continuation-protocol-execute-on-continue" title="Permanent link">&para;</a></h2>
<p>You are inheriting an operation in progress. You are NOT starting fresh. Your first job is to restore organizational state, then resume YOUR role within the established workflow.</p>
<h3 id="step-0-smoke-test">Step 0: Smoke Test<a class="headerlink" href="#step-0-smoke-test" title="Permanent link">&para;</a></h3>
<p><strong>Run these BEFORE any other work:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="c1"># Verify correct directory</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="nb">pwd</span><span class="w">  </span><span class="c1"># Expected: [path]</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="c1"># Verify key files exist</span>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="nb">test</span><span class="w"> </span>-f<span class="w"> </span><span class="o">[</span>critical-file-1<span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;OK&quot;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;MISSING&quot;</span>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="nb">test</span><span class="w"> </span>-f<span class="w"> </span><span class="o">[</span>critical-file-2<span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;OK&quot;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;MISSING&quot;</span>
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a>
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="c1"># Verify git state</span>
<a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a>git<span class="w"> </span>status<span class="w"> </span>--porcelain<span class="w"> </span><span class="p">|</span><span class="w"> </span>wc<span class="w"> </span>-l<span class="w">  </span><span class="c1"># Expected: ~[N] uncommitted files</span>
</code></pre></div>
<p><strong>If any smoke test fails, STOP and resolve before proceeding.</strong></p>
<h3 id="step-05-anti-patterns-do-not-do-these">Step 0.5: Anti-Patterns (DO NOT DO THESE)<a class="headerlink" href="#step-05-anti-patterns-do-not-do-these" title="Permanent link">&para;</a></h3>
<p> <strong>DO NOT</strong> manually implement tasks that should be delegated to subagents
 <strong>DO NOT</strong> skip skill invocation and do ad-hoc work
 <strong>DO NOT</strong> ask user "should I add X?" if the plan already specifies X
 <strong>DO NOT</strong> mark tasks complete without running verification commands
 <strong>DO NOT</strong> proceed past quality gates that haven't passed
 <strong>DO NOT</strong> build on partial/unverified subagent output
 <strong>DO NOT</strong> second-guess decisions documented in Section 1.15</p>
<p> <strong>DO</strong> re-invoke the orchestrating skill (Section 1.14)
 <strong>DO</strong> let skills spawn subagents per their workflow
 <strong>DO</strong> verify before marking complete (Section 1.13)
 <strong>DO</strong> stop and report if verification fails
 <strong>DO</strong> honor the workflow pattern established</p>
<h3 id="step-1-adopt-your-persona">Step 1: Adopt Your Persona<a class="headerlink" href="#step-1-adopt-your-persona" title="Permanent link">&para;</a></h3>
<p>Re-read Section 1.1 "Main Chat Agent." Adopt that persona and working style. You are continuing as that agent, not starting as a generic assistant.</p>
<h3 id="step-2-restore-todo-state">Step 2: Restore Todo State<a class="headerlink" href="#step-2-restore-todo-state" title="Permanent link">&para;</a></h3>
<p>Use the task tracking tool (<code>write_todos</code> or <code>TodoWrite</code>) to recreate ALL items from Section 1.8:
- Main Agent's Todos (set current task to <code>in_progress</code>)
- Implicit Todos (add these too)</p>
<p><strong>Note on delegation:</strong> Todo items that will be EXECUTED by subagents still belong on YOUR todo listyou own them as the coordinator. The workflow rules (Section 1.1 "Workflow Pattern in Use") determine HOW each todo gets executed:
- Some todos you do directly
- Some todos you delegate to subagents per the workflow rules
- The todo tracks the WORK; the workflow tracks the METHOD</p>
<p><strong>What NOT to duplicate:</strong> Work that is ALREADY delegated and IN PROGRESS with an active subagent. That's tracked in Section 1.8 "Subagent Pending Work" for awareness. Check on that subagent instead (Step 4).</p>
<h3 id="step-3-re-invoke-skill-stack">Step 3: Re-Invoke Skill Stack<a class="headerlink" href="#step-3-re-invoke-skill-stack" title="Permanent link">&para;</a></h3>
<p><strong>This is the most critical step. Do NOT skip it.</strong></p>
<p>If Section 1.14 contains skill resume commands:</p>
<ol>
<li><strong>Execute the primary skill command</strong> from Section 1.14</li>
<li><strong>Pass the resume context</strong> exactly as specified</li>
<li><strong>Let the skill manage the workflow</strong> - do not manually recreate what skills do</li>
</ol>
<p>If you find yourself about to manually implement something, STOP. Check if a skill should be handling this.</p>
<p><strong>Verify skill invocation worked:</strong>
- Is the skill now active?
- Are you at the correct position within it?
- Did it recognize the resume context?</p>
<h3 id="step-35-workflow-restoration-test">Step 3.5: Workflow Restoration Test<a class="headerlink" href="#step-35-workflow-restoration-test" title="Permanent link">&para;</a></h3>
<p>Before doing ANY implementation work, verify:</p>
<ol>
<li><strong>Is the orchestrating skill active?</strong></li>
<li>Check: Am I following its phase/step structure?</li>
<li>
<p>If no: STOP. Re-invoke skill from Step 3.</p>
</li>
<li>
<p><strong>Am I at the correct position?</strong></p>
</li>
<li>Check: Am I working on [Task N], not an earlier task?</li>
<li>
<p>If wrong position: STOP. Navigate to correct position.</p>
</li>
<li>
<p><strong>Is delegation happening correctly?</strong></p>
</li>
<li>Check: Am I spawning subagents, or doing work directly?</li>
<li>If doing directly when I shouldn't: STOP. Use skill to spawn subagent.</li>
</ol>
<p><strong>If ANY check fails, do not proceed. Fix the workflow state first.</strong></p>
<h3 id="step-4-check-subagent-status-do-not-take-over-their-work">Step 4: Check Subagent Status (DO NOT TAKE OVER THEIR WORK)<a class="headerlink" href="#step-4-check-subagent-status-do-not-take-over-their-work" title="Permanent link">&para;</a></h3>
<p>For each subagent in Section 1.1 marked "running" or "needs-follow-up":
1. Use TaskOutput to check their current status
2. If completed: process their output, integrate into your work, mark relevant todos complete
3. If still running: note their progress, continue your own parallel work
4. If blocked: address their blocker, then let them continue
5. If failed: spawn a replacement with the SAME persona and prompt patterns</p>
<p><strong>CRITICAL:</strong> You are the coordinator, not the executor of delegated work. If a subagent was implementing Feature X, do NOT start implementing Feature X yourself. Check on them, unblock them, or spawn a replacement with the same persona and prompt patterns if they failed.</p>
<h3 id="step-5-verify-artifact-state">Step 5: Verify Artifact State<a class="headerlink" href="#step-5-verify-artifact-state" title="Permanent link">&para;</a></h3>
<p><strong>Do NOT trust conversation claims. Verify actual file state.</strong></p>
<ol>
<li>Run verification commands from Section 1.13</li>
<li>Compare results to expected values</li>
<li>Check Section 1.12 for known discrepancies</li>
</ol>
<p><strong>If verification fails:</strong>
- Task is NOT complete, regardless of what conversation claimed
- Check for partial work markers (Section 1.17)
- Re-implement via subagent, do not build on broken foundation</p>
<h3 id="step-6-reconcile-with-implementation-docs">Step 6: Reconcile with Implementation Docs<a class="headerlink" href="#step-6-reconcile-with-implementation-docs" title="Permanent link">&para;</a></h3>
<p>If Section 1.9 lists implementation docs used for progress tracking:
1. Re-read the implementation doc
2. Compare its state to the todo list
3. The implementation doc defines the FULL scope; the todo list may be a subset currently in focus
4. If subagents were assigned sections of the implementation doc, verify their sections match what's marked complete
5. Use the doc to orient yourself: "Where are we in the larger plan?"</p>
<h3 id="step-7-re-read-critical-documents-mandatory-do-not-skip">Step 7: Re-Read Critical Documents (MANDATORY - DO NOT SKIP)<a class="headerlink" href="#step-7-re-read-critical-documents-mandatory-do-not-skip" title="Permanent link">&para;</a></h3>
<p><strong>This step is NON-NEGOTIABLE. Execute BEFORE any implementation work.</strong></p>
<ol>
<li>Go to Section 1.10 "Documents to Re-Read"</li>
<li>For EACH document listed with Priority 1 or 2:
   <div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>Use the file reading tool (`read_file`, `Read`)(&quot;[absolute-path-from-section-1.10]&quot;)
</code></pre></div></li>
<li>After reading each document, extract:</li>
<li>Current phase/task position</li>
<li>Remaining work items</li>
<li>Verification criteria for completion</li>
<li>Compare what you learned to Section 1.8 "Pending Work Items"</li>
<li>If there are discrepancies, the plan document is authoritative</li>
</ol>
<p><strong>If Section 1.10 says "NO DOCUMENTS TO RE-READ":</strong> Proceed to Step 8.</p>
<p><strong>If Section 1.10 is blank or missing:</strong> STOP. This is a malformed compact. The original compactor failed to capture planning documents. Search ~/.claude/docs/<project-encoded>/plans/ manually before proceeding.</p>
<h3 id="step-8-resume-your-exact-position">Step 8: Resume YOUR Exact Position<a class="headerlink" href="#step-8-resume-your-exact-position" title="Permanent link">&para;</a></h3>
<p>Return to Section 1.1 "Your Exact Position." Not a higher abstraction. If you were debugging line 47, debug line 47. If you were mid-review of subagent output, continue that review.</p>
<h3 id="step-9-maintain-continuity">Step 9: Maintain Continuity<a class="headerlink" href="#step-9-maintain-continuity" title="Permanent link">&para;</a></h3>
<p>Do not change methodologies. Do not "simplify" the organizational structure. Do not abandon the workflow pattern. The user set up this workflow intentionally. Honor it.</p>
<hr />
<h2 id="quality-check-before-finalizing">QUALITY CHECK (Before Finalizing)<a class="headerlink" href="#quality-check-before-finalizing" title="Permanent link">&para;</a></h2>
<p>Ask yourselfand do not finalize until ALL answers are "yes":</p>
<p><strong>Planning Document Verification (CRITICAL):</strong>
- [ ] Did I search ~/.claude/docs/<project-encoded>/plans/ for planning documents?
- [ ] If plan docs exist, are they listed in Section 1.9 with ABSOLUTE paths?
- [ ] Does Section 1.10 contain explicit file reading tool calls (<code>read_file</code>, <code>Read</code>) for the resuming agent?
- [ ] If NO plan docs exist, did I write "NO PLANNING DOCUMENTS" explicitly (not leave blank)?</p>
<p><strong>Organizational Continuity:</strong>
- [ ] Can a fresh instance say "continue" and know exactly what THEY should do vs what subagents are handling?
- [ ] Are all active subagents tracked with IDs, personas, and enough detail to check on or replace them?
- [ ] Is the workflow pattern explicit enough to spawn new agents correctly with proper instruction-engineering?
- [ ] Are skills/commands used by all agents documented?
- [ ] Is progress tracked in implementation docs reconciled with the todo list?
- [ ] Is the todo list EXACTLY as it was (or more complete, with implicit todos added)?</p>
<p><strong>Context Preservation:</strong>
- [ ] Are ALL user messages captured (not just corrections)?
- [ ] Are ALL errors and their fixes documented?
- [ ] Are key technical concepts and decisions captured?
- [ ] Are user corrections captured so mistakes won't be repeated?</p>
<p><strong>Verification Infrastructure:</strong>
- [ ] Are skill resume commands executable (not just descriptive)?
- [ ] Is artifact state verified against actual files (not just conversation claims)?
- [ ] Are verification commands provided for each incomplete task?
- [ ] Is the Definition of Done concrete and checkable?
- [ ] Are recovery checkpoints documented if quality gates failed?
- [ ] Is the skill re-entry protocol filled with actual resume commands (not placeholders)?
- [ ] Are known failure modes checked against (did I prevent them in this distill)?</p>
<p><strong>Final Test:</strong>
- [ ] Would I feel confident inheriting this mid-operation with zero prior context?
- [ ] If a plan doc exists, would the resuming agent find it and read it BEFORE starting work?</p>
<p>If ANY answer is "no," add more detail. You are the last line of defense against context loss. The next instance's success depends entirely on what you write here.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.sections", "navigation.expand", "navigation.top", "search.suggest", "search.highlight", "content.code.copy", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "latest", "provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>